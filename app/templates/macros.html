{%- macro render_field(field, label=False, hidden=False, submit=False) -%}
{%- set class = 'form-control ' + kwargs.get('class', '') -%}
{%- if field.errors -%}
	{%- set class = class + ' invalid' -%}
{%- endif -%}
{%- if hidden -%}
	{%- set class = class + ' hidden' -%}
{%- endif -%}

<div class="{{class}}">

	{%- if label -%}
	{{ field.label }}
	{%- endif -%}

	{{ field(**kwargs) | safe }}

	{%- if submit -%}
	<input type="submit" value="Go">
	{% include "icon-arrow.svg" %}
	{%- endif -%}

	{%- if field.errors -%}
	<ul class="errors">
	{%- for error in field.errors -%}
	  	<li>{{ error }}</li>
	{%- endfor -%}
	</ul>
	{%- endif -%}

</div>
{%- endmacro -%}
